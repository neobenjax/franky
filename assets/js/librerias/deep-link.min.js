/*!
 * Deep-link.js
 * https://timseverien.com/projects/deep-link/
 *
 * Copyright 2015
 * Released under MIT license
 */
!function(){"use strict";for(var t=1200,e={windows:{store_prefix:"zune:navigate?appid=",test:/Windows\s+Phone|IEMobile/i},android:{store_prefix:"https://play.google.com/store/apps/details?id=",test:/Android/i},iOS:{store_prefix:"https://itunes.apple.com/en/app/id",test:/iPhone|iPad|iPod/i}},n=function(){var t;for(t in e)if(navigator.userAgent.match(e[t].test))return t;return""},i=function(){return(new Date).getTime()},r=function(t){window.location.href=t},a=function(t,e,n,i){var r=navigator.userAgent.indexOf("Android")>-1&&navigator.userAgent.indexOf("Mozilla/5.0")>-1&&navigator.userAgent.indexOf("AppleWebKit")>-1,a=new RegExp(/AppleWebKit\/([\d.]+)/),o=a.exec(navigator.userAgent),s=null===o?null:parseFloat(a.exec(navigator.userAgent)[1]),u=r&&null!==s&&s>500;return u?"intent:"+t.split(":")[1]+"#Intent;scheme="+i+";package="+e+";S.browser_fallback_url="+encodeURI(n):t},o=function(o){var s,u,d=n(),l=d.toLowerCase(),p=o.getAttribute("href"),g=o.getAttribute("data-app-"+l)||o.getAttribute("data-app"),c=o.getAttribute("data-store-"+l)||o.getAttribute("data-store"),f=o.getAttribute("data-android-scheme");g&&(p||o.setAttribute("href",g),d&&g?o.onclick=function(n){n.preventDefault(),n.stopImmediatePropagation();var o,l=i();s=!0,u=setTimeout(function(){if(s&&u){var n=i();s=!1,u=null,n-l>=2*t||(c?r(e[d].store_prefix+c):p&&r(p))}},t);var v=a(g,c,p,f);o=r(v)}:p&&"#"!==p||(o.style.display="none"),visibly.onHidden(function(){s&&u&&(u=clearInterval(u),s=!1)}))},s=document.getElementsByTagName("a"),u=s.length;u--;)o(s[u])}();